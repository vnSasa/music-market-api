{{ template "header_admin" }}

        <main role="main" class="inner cover">
            <div class="container">
                <form action="/api_admin/save_changes_song/{{.id}}" id="update-form" class="lead" method="POST">
                    <div class="form-group">
                        <label for="artist_id">id of artist</label>
                        <select name="artist_id" class="form-control" id="artist_id">
                            <option selected></option>
                            {{range .Artists}}
                            <option value="{{.ID}}">{{.Name}}</option>
                            {{end}}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="name_song">name of song</label>
                        <input type="text" class="form-control" name="name_song" id="name_song">
                    </div>
                    <div class="form-group">
                        <label for="genre">genre</label>
                        <select name="genre" class="form-control" id="genre" aria-label="Default select example">
                            <option selected></option>
                            <option value="rock">rock</option>
                            <option value="pop">pop</option>
                            <option value="hip-hop">hip-hop</option>
                            <option value="jazz">jazz</option>
                            <option value="classical">classical</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="second_genre">alternative genre</label>
                        <select name="second_genre" class="form-control" id="second_genre" aria-label="Default select example">
                            <option selected></option>
                            <option value="rock">rock</option>
                            <option value="pop">pop</option>
                            <option value="hip-hop">hip-hop</option>
                            <option value="jazz">jazz</option>
                            <option value="classical">classical</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="year_of_release">year of release</label>
                        <input type="text" class="form-control" name="year_of_release" id="year_of_release">
                    </div>
                    <input type="hidden" name="id" value="{{.id}}">
                    <button type="submit" class="btn btn-outline-success">Save</button>
                </form>
                {{ if .BadData }}
                    <div class="alert alert-danger" role="alert">
                    Incorrect data was entered to create a song!
                    </div>
                {{ end }}
                <script>
                    const urlParams = new URLSearchParams(window.location.search);
                    const name = urlParams.get('name');
                    const genre = urlParams.get('genre');
                    const genre2 = urlParams.get('genre2');
                    const year = urlParams.get('year');

                    document.getElementById('name_song').value = name;
                    document.getElementById('genre').value = genre;
                    document.getElementById('second_genre').value = genre2;
                    document.getElementById('year_of_release').value = year;
                </script>
                <script src="/js/update.js"></script>
            </div>
        </main>

        {{ template "footer" }}